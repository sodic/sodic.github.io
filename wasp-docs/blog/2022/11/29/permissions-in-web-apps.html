<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Permissions (access control) in web apps | Wasp</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://wasp-lang.dev/wasp-docs/blog/2022/11/29/permissions-in-web-apps"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:title" content="Permissions (access control) in web apps | Wasp"><meta data-rh="true" name="description" content="At Wasp, we are working on a config language / DSL for building web apps that integrates with React &amp; Node.js."><meta data-rh="true" property="og:description" content="At Wasp, we are working on a config language / DSL for building web apps that integrates with React &amp; Node.js."><meta data-rh="true" property="og:image" content="https://wasp-lang.dev/wasp-docs/img/permissions-in-web-apps/auth-spidermen.jpg"><meta data-rh="true" name="twitter:image" content="https://wasp-lang.dev/wasp-docs/img/permissions-in-web-apps/auth-spidermen.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-11-29T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/martinsos"><meta data-rh="true" property="article:tag" content="webdev,wasp"><link data-rh="true" rel="icon" href="/wasp-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wasp-lang.dev/wasp-docs/blog/2022/11/29/permissions-in-web-apps"><link data-rh="true" rel="alternate" href="https://wasp-lang.dev/wasp-docs/blog/2022/11/29/permissions-in-web-apps" hreflang="en"><link data-rh="true" rel="alternate" href="https://wasp-lang.dev/wasp-docs/blog/2022/11/29/permissions-in-web-apps" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RG0JSZOWH4-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/wasp-docs/blog/rss.xml" title="Wasp RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/wasp-docs/blog/atom.xml" title="Wasp Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PQ4JFCK"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PQ4JFCK",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Wasp" href="/wasp-docs/opensearch.xml">



<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap">
<script src="/scripts/posthog.js"></script>
<script src="/js/fix-multiple-trailing-slashes.js"></script><link rel="stylesheet" href="/wasp-docs/assets/css/styles.196fa15e.css">
<link rel="preload" href="/wasp-docs/assets/js/runtime~main.6b38a0ff.js" as="script">
<link rel="preload" href="/wasp-docs/assets/js/main.fc8b71fe.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://wasp-lang.dev/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/wasp-docs/img/wasp-logo-eqpar-circle.png" alt="Wasp logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/wasp-docs/img/wasp-logo-eqpar-circle.png" alt="Wasp logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">.wasp (beta)</b></a><a class="navbar__item navbar__link navbar-item-docs navbar-item-outside" href="/wasp-docs/docs">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar-item-docs-version-dropdown" aria-haspopup="true" aria-expanded="false" role="button" href="/wasp-docs/docs">Next</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/wasp-docs/docs">Next</a></li><li><a class="dropdown__link" href="/wasp-docs/docs/0.11.8">0.11.8</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wasp-docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wasp-lang/wasp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-github"></a><a href="https://twitter.com/WaspLang" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-twitter"></a><a href="https://discord.gg/rzdnErX" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-discord"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="margin-vert--lg container"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/12/05/writing-rfcs">On the Importance of RFCs in Programming</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/11/21/guide-windows-development-wasp-wsl">A Guide to Windows Development with Wasp &amp; WSL</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/10/13/wasp-launch-week-four">Wasp Launch Week #4: Waspolution</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/10/12/on-importance-of-naming-in-programming">On the Importance of Naming in Programming</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/10/04/contributing-open-source-land-a-job">Contributing to Tech Communities: How Open-Source can land you a job and get you out of the Skill Paradox</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/09/17/ai-meme-generator-how-to-use-openai-function-call">Build your own AI Meme Generator &amp; learn how to use OpenAI&#x27;s function calls</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/08/23/using-product-requirement-documents-generate-better-web-apps-with-ai">Using Product Requirement Documents to Generate Better Web Apps with AI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/08/09/build-real-time-voting-app-websockets-react-typescript">Build a real-time voting app with WebSockets, React &amp; TypeScript 🔌⚡️</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/08/01/smol-ai-vs-wasp-ai">Smol AI 🐣 vs. Wasp AI 🐝 - Which is the Better AI Junior Developer?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/07/17/how-we-built-gpt-web-app-generator">How we built a GPT code agent that generates full-stack web apps in React &amp; Node.js, explained simply</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/07/10/gpt-web-app-generator">GPT Web App Generator - Let AI create a full-stack React &amp; Node.js codebase based on your description 🤖🤯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/30/tutorial-jam">Tutorial Jam #1 - Teach Others &amp; Win Prizes!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/29/new-wasp-lsp">Wasp LSP 2.0 - Next-level autocompletion and IDE integration for Wasp projects!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/28/what-can-you-build-with-wasp">What can you build with Wasp?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/27/build-your-own-twitter-agent-langchain">Build Your Own Personal Twitter Agent 🧠🐦⛓ with LangChain</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/22/wasp-launch-week-three">Wasp Launch Week #3: Magic</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/06/07/wasp-beta-update-may-23">Wasp Beta - May 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/05/19/hackathon-2-review">Hackathon #2: Results &amp; Review</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/04/27/wasp-hackathon-two">Wasp Hackathon #2 - Let&#x27;s &quot;hack-a-ton&quot;!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/04/17/How-I-Built-CoverLetterGPT">How I Built CoverLetterGPT - SaaS app with the PERN stack, GPT, Stripe, &amp; Chakra UI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/04/13/db-start-and-seed">Wasp steps up its database game with Fully Managed Dev DB &amp; DB Seeding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/04/12/auth-ui">Wasp Auth UI: The first full-stack auth with self-updating forms!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/04/11/wasp-launch-week-two">Wasp Launch Week #2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/03/17/new-react-docs-pretend-spas-dont-exist">New React docs pretend SPAs don&#x27;t exist anymore</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/03/08/building-a-full-stack-app-supabase-vs-wasp">Building a full-stack app for learning Italian: Supabase vs. Wasp</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/03/03/ten-hard-truths-junior-developers-need-to-hear">10 &quot;Hard Truths&quot; All Junior Developers Need to Hear</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/03/02/wasp-beta-update-feb">Wasp Beta - February 2023</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/02/21/junior-developer-misconceptions">The Most Common Misconceptions Amongst Junior Developers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/02/14/amicus-indiehacker-interview">From Idea to Paying Customers in 1 Week: An Interview with Amicus.work</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/02/02/no-best-framework">The Best Web App Framework Doesn&#x27;t Exist</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/01/31/wasp-beta-launch-review">Convincing developers to try a new web framework - the effects of launching beta</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/01/18/wasp-beta-update-dec">Wasp Beta December 2022</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2023/01/11/betathon-review">Hosting Our First Hackathon: Results &amp; Review</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/12/08/fast-fullstack-chatgpt">Watch us build a *truly* full-stack app in just 9 minutes w/ Wasp &amp; ChatGPT 🚀 🤯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/12/01/beta-ide-improvements">Wasp Beta brings major IDE improvements</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/30/optimistic-update-feature-announcement">Feature Release Announcement - Wasp Optimistic Updates</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/wasp-docs/blog/2022/11/29/permissions-in-web-apps">Permissions (access control) in web apps</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/29/typescript-feature-announcement">Feature Announcement - TypeScript Support</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/29/wasp-beta">Wasp is in Beta: Auth, TypeScript, Tailwind, LSP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/28/why-we-chose-prisma">Why we chose Prisma as a database layer for Wasp</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/26/erlis-amicus-usecase">Amicus: See how Erlis built a SaaS for legal teams with Wasp and got first paying customers!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/26/michael-curry-usecase">How Michael Curry chose Wasp to build Grabbit: an internal tool for managing dev resources at StudentBeans</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/26/wasp-beta-launch-week">Wasp Beta Launch Week announcement</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/17/hacktoberfest-wrap-up">How Wasp reached all-time high PR count during Hacktoberfest: tips for OSS maintainers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/16/alpha-testing-program-post-mortem">Alpha Testing Program: post-mortem</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/16/tailwind-feature-announcement">Feature Announcement - Tailwind CSS support</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/11/15/auth-feature-announcement">Feature Announcement - New auth method (Google)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/10/28/farnance-hackathon-winner">Farnance: How Julian built a SaaS for farmers with Wasp and won a hackathon!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/09/29/journey-to-1000-gh-stars">How Wasp reached 1,000 stars on GitHub (detailed stats &amp; timeline)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/09/05/dev-excuses-app-tutrial">Building an app to find an excuse for our sloppy work</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/09/02/how-to-get-started-with-haskell-in-2022">How to get started with Haskell in 2022 (the straightforward way)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/08/26/how-and-why-i-got-started-with-haskell">How and why I got started with Haskell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/08/15/how-to-communicate-why-your-startup-is-worth-joining">How to communicate why your startup is worth joining</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/06/24/ML-code-gen-vs-coding-by-hand-future">ML code generation vs. coding by hand - what we think programming is going to look like</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/06/15/jobs-feature-announcement">Feature Announcement - Wasp Jobs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/06/01/gitpod-hackathon-guide">How to win a hackathon. Brief manual.</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/05/31/filip-intro">Meet the team - Filip Sodić, Founding Engineer</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2022/01/27/waspleau">Build a metrics dashboard with background jobs in Wasp - Say hello to Waspleau!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/12/21/shayne-intro">Meet the team - Shayne Czyzewski, Founding Engineer</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/12/02/waspello">How we built a Trello clone with Wasp - Waspello!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/11/22/fundraising-learnings">Our fundraising learnings - 250+ meetings in 98 days to the oversubscribed round</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/11/21/seed-round">Following YC, Wasp raised $1.5M Seed Round led by Lunar Ventures and HV Capital</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/09/01/haskell-forall-tutorial">Tutorial: `forall` in Haskell</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/04/29/discord-bot-introduction">How to implement a Discord bot (in NodeJS) that requires new members to introduce themselves</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/03/02/wasp-alpha">Wasp - language for developing full-stack Javascript web apps with no boilerplate</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2021/02/23/journey-to-ycombinator">Journey to YCombinator</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wasp-docs/blog/2019/09/01/hello-wasp">Hello Wasp!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://wasp-lang.dev/wasp-docs/img/permissions-in-web-apps/auth-spidermen.jpg"><header><h1 class="title_f1Hy" itemprop="headline">Permissions (access control) in web apps</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-11-29T00:00:00.000Z" itemprop="datePublished">November 29, 2022</time> · <!-- -->19 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/martinsos" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/martinsos.png" alt="Martin Sosic"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/martinsos" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Martin Sosic</span></a></div><small class="avatar__subtitle" itemprop="description">Co-founder &amp; CTO @ Wasp</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>At Wasp, we are working on a config language / DSL for building web apps that integrates with React &amp; Node.js.<br>
<!-- -->This requires us to deeply understand different parts of what constitutes a web app, in order to be able to model them in our DSL.</p><p>Recently our focus was on access control, and I decided to capture the learnings in this blog post, to help others quickly get up to speed on how to do access control in web apps.<br>
<!-- -->So, if you are new to access control in web apps, or have been doing it for some time but want to get a better idea of standard practices, read along!</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="quick-overview-of-what-this-blog-post-covers">Quick overview of what this blog post covers:<a href="#quick-overview-of-what-this-blog-post-covers" class="hash-link" aria-label="Direct link to Quick overview of what this blog post covers:" title="Direct link to Quick overview of what this blog post covers:">​</a></h4><ol><li>Permissions, yay! Wait, what are they though? (quick overview of basic terms)</li><li>Where do we check permissions in a web app: frontend vs backend vs db</li><li>Common approaches (RBAC, ABAC, …)</li><li>OWASP recommendations</li><li>Implementing access control in practice</li><li>Summary (<a href="#summary-tldr">TLDR</a>)</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-permissions-yay-wait-what-are-they-though">1. Permissions, yay! Wait, what are they though?<a href="#1-permissions-yay-wait-what-are-they-though" class="hash-link" aria-label="Direct link to 1. Permissions, yay! Wait, what are they though?" title="Direct link to 1. Permissions, yay! Wait, what are they though?">​</a></h2><p>Unless your web app is mostly about static content or is a form of art, it will likely have a notion of users and user accounts.</p><div><p align="center"></p><figure><img alt="Artistic dolphin painting with brush" src="/wasp-docs/img/permissions-in-web-apps/dolphin_artist.webp"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem">This dolphin doesn&#x27;t need users</figcaption></figure><p></p></div><p>In such a case, you will need to know which user has permissions to do what -&gt; who can access which resources, and who can execute which operations.</p><p>Some common examples of permissions in action:</p><ol><li>User can access only their own user account.</li><li>If the user is an admin, they can ban other users’ accounts.</li><li>User can read other users’ articles, but can&#x27;t modify them.</li><li>The title and description of the article behind the paywall are publicly accessible, but the content is not.</li><li>User can send an email invitation to up to 10 future users per day.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="aha-you-mean-access-control-sorry-authorization-hmm-authentication">Aha, you mean access control! Sorry, authorization! Hmm, authentication?<a href="#aha-you-mean-access-control-sorry-authorization-hmm-authentication" class="hash-link" aria-label="Direct link to Aha, you mean access control! Sorry, authorization! Hmm, authentication?" title="Direct link to Aha, you mean access control! Sorry, authorization! Hmm, authentication?">​</a></h3><p>There are different terms out there (authentication, authorization, access control, permissions) that are often confused for each other, so let&#x27;s quickly clarify what each one of them stands for.</p><div><p align="center"></p><figure><img style="width:500px" alt="Spidermen representing authN, authZ, AC and permissions pointing at each other" src="/wasp-docs/img/permissions-in-web-apps/auth-spidermen.jpg"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem">They all look the same!</figcaption></figure><p></p></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-authentication-or-as-cool-kids-would-say-authn">1) Authentication (or as cool kids would say: authN)<a href="#1-authentication-or-as-cool-kids-would-say-authn" class="hash-link" aria-label="Direct link to 1) Authentication (or as cool kids would say: authN)" title="Direct link to 1) Authentication (or as cool kids would say: authN)">​</a></h3><p>Act of verifying the user&#x27;s identity.<br>
<!-- -->Answers the question &quot;<strong>Who are they?</strong>&quot;</p><blockquote><p>A: Knock Knock<br>
<!-- -->B: Who is it?<br>
<!-- -->A: User!<br>
<!-- -->B: User who?<br>
<!-- -->A: Authorization: Basic myusername:mypassword</p><p>-&gt; yes, you noticed correctly, this is an example of common authentication method but HTTP header is called &quot;Authorization&quot;! Weird! But it all makes sense if you squint hard enough: (<a href="https://stackoverflow.com/questions/30062024/why-is-the-http-header-for-authentication-called-authorization" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/30062024/why-is-the-http-header-for-authentication-called-authorization</a>).</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-authorization-or-as-cool-kids-would-say-authz">2) Authorization (or as cool kids would say: authZ)<a href="#2-authorization-or-as-cool-kids-would-say-authz" class="hash-link" aria-label="Direct link to 2) Authorization (or as cool kids would say: authZ)" title="Direct link to 2) Authorization (or as cool kids would say: authZ)">​</a></h3><p>Process of determining access rights that user has.<br>
<!-- -->Answers the question &quot;<strong>Are they allowed to do this?</strong>&quot;</p><p>Normally you will want the user to be authenticated at this point already, so you have information about them based on which you will decide if they are allowed to do something.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-access-control">3) Access Control<a href="#3-access-control" class="hash-link" aria-label="Direct link to 3) Access Control" title="Direct link to 3) Access Control">​</a></h3><p>A higher-level term (compared to authN and authZ) that encompasses the whole process of ensuring that only allowed parties can access specific resources (controlling access to resources -&gt; access control).</p><p>Often consists of authentication and/or authorization as its steps.</p><p>Also often used in the wild interchangeably with just &quot;authorization&quot;.
Reference (OWASP): <a href="https://www.cgisecurity.com/owasp/html/ch08.html" target="_blank" rel="noopener noreferrer">https://www.cgisecurity.com/owasp/html/ch08.html</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-permissions">4) Permission(s)<a href="#4-permissions" class="hash-link" aria-label="Direct link to 4) Permission(s)" title="Direct link to 4) Permission(s)">​</a></h3><p>A more general/informal term, closest in meaning to &quot;authorization&quot; when used in the context of computer science.</p><p><strong>Permission</strong> to <strong>access</strong> a <strong>resource</strong> is called <strong>authorization</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="all-together">All together<a href="#all-together" class="hash-link" aria-label="Direct link to All together" title="Direct link to All together">​</a></h3><div><p align="center"></p><figure><img style="width:350px" alt="Diagram of authN, authZ, AC and permissions relationship" src="/wasp-docs/img/permissions-in-web-apps/auth-terms-diagram.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>Let’s see these terms used in a sentence by observing the following imagined pull request (PR):</p><blockquote><p>Title: Added <strong>access control</strong> to the app.  </p><p>Description:<br>
<!-- -->I implemented a way for users to <strong>authenticate</strong> via email and password or via Google.<br>
<!-- -->On the server-side, I added <strong>permission checks</strong> to most of our REST API handlers, to ensure an <strong>authenticated</strong> user is <strong>authorized</strong> to execute them.<br>
<!-- -->If the user is not <strong>authorized</strong>, we throw an HTTP error 403.<br>
<!-- -->There are also some public parts of REST API where the user doesn’t have to be <strong>authenticated</strong>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-where-do-we-check-permissions-in-a-web-app-frontend-vs-backend-vs-database">2. Where do we check permissions in a web app: frontend vs backend vs database<a href="#2-where-do-we-check-permissions-in-a-web-app-frontend-vs-backend-vs-database" class="hash-link" aria-label="Direct link to 2. Where do we check permissions in a web app: frontend vs backend vs database" title="Direct link to 2. Where do we check permissions in a web app: frontend vs backend vs database">​</a></h2><p>We explained a bunch of terms, let&#x27;s see now how access permission checks are actually done in practice!</p><p>In a typical web app, you will have a frontend, backend (server), and database.</p><p>The frontend will be issuing commands to the server, which then executes operations and possibly modifies the database (on their behalf). Since <strong>users don’t have direct access to the database</strong>, and since the <strong>frontend is inherently not secure</strong>, that leaves the <strong>server as the central place where all the crucial access control needs to happen</strong>.</p><div><p align="center"></p><figure><img style="width:600px" alt="A real-life photo of frontend, server, and database performing access control." src="/wasp-docs/img/permissions-in-web-apps/frontend-server-db-access-control.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem">A real-life photo of frontend, server, and database performing access control.</figcaption></figure><p></p></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="frontend-browser">Frontend (browser)<a href="#frontend-browser" class="hash-link" aria-label="Direct link to Frontend (browser)" title="Direct link to Frontend (browser)">​</a></h3><p>By frontend we mean web client -&gt; code (e.g. JS) that executes in the browser.</p><p>The frontend is here to help users issue commands towards the server via which users can access and/or modify the resources of our web app (which are most often stored in the database).</p><p>Since users can manipulate the frontend code as they wish, we can&#x27;t really do any permissions checks in the frontend code, we can&#x27;t trust it!</p><div><p align="center"></p><figure><img style="width:300px" alt="Imposter of the vent warning that frontend can&#x27;t be trusted" src="/wasp-docs/img/permissions-in-web-apps/imposter-of-the-vent.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>Any permission checks we do on the frontend, we will need to repeat on the server in any case.<br>
<!-- -->If that is so, should we at all check permissions on the frontend, and what is the purpose of that?<br>
<strong>The main reason for doing any permissions checks on the frontend is ergonomics/user experience</strong> -&gt; by having UI focus only on resources they can change, we make it easier for users to understand what they can do in our web app and make sure they don&#x27;t waste time on trying to describe complex operations that server will then not be able to execute.</p><p>So, for example, our frontend code can hide/omit certain fields in the UI form if the user shouldn&#x27;t be able to access them, it can prevent opening certain pages, or hide/omit certain buttons if they trigger operations that the user is not allowed to perform.</p><div><p align="center"></p><figure><img alt="Example of using casl.js in React" src="/wasp-docs/img/permissions-in-web-apps/casl-react-example.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem">Example of using casl.js in React to show button only if the user has permission.</figcaption></figure><p></p></div><p><strong>Takeaway: Permission checks on frontend are not there for security, but only for ergonomics / improving user experience.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="backend-server">Backend (server)<a href="#backend-server" class="hash-link" aria-label="Direct link to Backend (server)" title="Direct link to Backend (server)">​</a></h3><p>The server is <strong>a crucial place to implement access control</strong>. It exposes an API that the frontend (browser) and/or other services consume. While doing that, they authenticate with the server, so that server knows who they are, and then they ask (i.e. via REST API or GraphQL API) the server to execute certain operations (i.e. creating, updating, or fetching something). It is the server’s job to figure out if they are allowed (authorized) to perform those operations (on specified resources / with provided arguments) and to reject them if they are not.</p><p>At its core, permissions checks on the server are here to <strong>check for each API endpoint</strong> if the caller is allowed to execute it. Often they are executed at the very start of the API endpoint logic, but often they are also intertwined with the rest of the endpoint handler logic.</p><div><p align="center"></p><figure><img alt="Example of permissions check in backend." src="/wasp-docs/img/permissions-in-web-apps/backend-permissions-check-example.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem">Example of doing permission check at the start of API endpoint (is user authenticated) and then also doing another check as part of the database query (is user owner of the article they are trying to delete).</figcaption></figure><p></p></div><p>Besides defining checks at API/operation level, they are also often defined at the <strong>data/model level</strong>. This means that they are tied to specific data models (normally from the database), as part of data access logic (ORM), and are defining who can access specific field(s), or even the whole data model.</p><p>Example of attaching permission checks to the data model directly in the GraphQL schema (<a href="https://www.prisma.io/blog/graphql-directive-permissions-authorization-made-easy-54c076b5368e" target="_blank" rel="noopener noreferrer">from this blog post</a>):</p><div><p align="center"></p><figure><img alt="Example of attaching permission checks to the data model directly in the GraphQL schema" src="/wasp-docs/img/permissions-in-web-apps/data-model-permissions-gql.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>For a more sophisticated RBAC approach, with an additional layer of indirection (permissions), read on.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="database">Database<a href="#database" class="hash-link" aria-label="Direct link to Database" title="Direct link to Database">​</a></h3><p>Usually, users don’t have direct access to the database at all, instead, they affect it via the server. <strong>In such a case, there is no need to do specific database access control</strong> besides normal constraints that you will have in your DB to ensure data model integrity, like uniqueness, validations, and similar. That said, in some situations, you might want to do it, but we will not get into that in this article.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-common-approaches-rbac-abac-">3. Common approaches (RBAC, ABAC, …)<a href="#3-common-approaches-rbac-abac-" class="hash-link" aria-label="Direct link to 3. Common approaches (RBAC, ABAC, …)" title="Direct link to 3. Common approaches (RBAC, ABAC, …)">​</a></h2><p>The most common approaches to access control are <strong>RBAC</strong> (Role-Based Access Control) and <strong>ABAC</strong> (Attribute-Based Access Control), with RBAC having the strong lead (but ABAC is picking up).</p><p>Although less popular, we will also shortly mention ReBAC as an “in-between” option.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rbac---role-based-access-control">RBAC - Role-based access control<a href="#rbac---role-based-access-control" class="hash-link" aria-label="Direct link to RBAC - Role-based access control" title="Direct link to RBAC - Role-based access control">​</a></h3><p>Roles rule :D! In <a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="noopener noreferrer">RBAC</a>, roles are the central concept. Some example roles might be <code>admin</code>, <code>guest</code>, <code>writer</code>, <code>moderator</code>, …. When determining if a certain user has access, <strong>we check their roles and determine their access rights based on it</strong>. For example, <code>admin</code> can delete other users, articles, and projects, but <code>guest</code> can’t modify any resources, only read articles.</p><p>Pro advice (thanks Karan!): While we could be checking the user’s roles directly in the permission checks, it is even better (and recommended by OWASP) to add a layer of indirection → permissions. <strong>So roles are attached to users, permissions are attached to roles, and permission checks check permissions</strong> (who would expect that :)!?).</p><div><p align="center"></p><figure><img alt="Users -&gt; Roles -&gt; Permissions" src="/wasp-docs/img/permissions-in-web-apps/users-roles-permissions.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>For example, a user might have role <code>admin</code>, and role <code>admin</code> has permissions <code>updateArticle</code> and <code>deleteArticle</code> attached to it. Then, when determining if a user can delete the article, we first fetch his role, then we fetch the permissions attached to that role, and finally check if <code>deleteArticle</code> is present among those → if so, they can continue with the deletion!</p><p>This way, if we decide a certain role should have more or fewer permissions, we just add or remove the permission in question to the role, and that is it! We don’t have to go through every permission check and update its logic (which we would have to do if we were checking directly against roles).</p><p><strong>RBAC is popular because it is relatively simple and it reflects the basic business domain pretty well</strong> - often we are thinking in the terms of roles in the real world, so it is easy to grasp and understand. There are plenty of solutions and frameworks out there that implement RBAC.</p><p>While a good match for many common use cases, there is a drawback to RBAC - when access control becomes complex (which usually happens as the web app evolves and grows big), RBAC sometimes fails in offering needed granularity in an elegant way, resulting in unwieldy and overly-complex access control logic.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="abac---attribute-based-access-control">ABAC - Attribute-based access control<a href="#abac---attribute-based-access-control" class="hash-link" aria-label="Direct link to ABAC - Attribute-based access control" title="Direct link to ABAC - Attribute-based access control">​</a></h3><p>In <a href="https://en.wikipedia.org/wiki/Attribute-based_access_control" target="_blank" rel="noopener noreferrer">ABAC</a>, key idea is that you define <strong>a bunch of access control rules</strong> where each rule takes different “attributes” as input. When you need to check if a user is authorized to do smth, you run the rules and <strong>if all the rules pass, it is a go</strong>, but if a single rule fails, it is a no go.</p><p>Rule attributes can be anything, but usually, they fall into 4 categories:</p><ol><li><strong>Subject</strong>: information about a user (i.e. user’s id or name)</li><li><strong>Action</strong>: operation they want to perform (i.e. reading an Article)</li><li><strong>Object</strong>: resources they want to operate on (i.e. an Article),</li><li><strong>Environment/context:</strong> i.e. current time of the day or number of previous requests that the user did in the last hour.</li></ol><div><p align="center"></p><figure><img alt="ABAC diagram" src="/wasp-docs/img/permissions-in-web-apps/abac-diagram.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>Let’s observe the example from before where we wanted to know if user is allowed to delete an article.<br>
<!-- -->In ABAC, we could define an action “deleteArticle”, and then define a rule that takes user(subject), action, object, and additional context. That rule would check if action is “deleteArticle” → if so, it would evaluate if user is allowed to delete the article specified as an object, by checking some properties of user, maybe even role, or by checking if user is owner of that article.<br>
<!-- -->Then, when user actually issues a command to delete an article, we would ask our access control system to run it against all the rules it has, while giving it the (user, “deleteArticle”, article, context) tuple → most of the rules would say all is ok since they are not concerned with “deleteArticle” action, but the ones that are (like the one we defined above) must all pass in order to actually allow the access.</p><p><strong>ABAC is very flexible and general as an approach</strong>, and you could easily implement RBAC (and many other approaches) in ABAC (by checking the user’s role as one of the attributes) → therefore it is more general/expressive than RBAC.</p><p>However, ABAC is more complex to implement, and it is also more expensive performance-wise, due to needing to check multiple rules each time that access control check is being performed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rebac---relationship-based-access-control">ReBAC - Relationship-based access control<a href="#rebac---relationship-based-access-control" class="hash-link" aria-label="Direct link to ReBAC - Relationship-based access control" title="Direct link to ReBAC - Relationship-based access control">​</a></h3><p>Roles (RBAC) can be lacking when you need to grant access based on relationship-related questions like “is this user owner of this article” or “does this user belong to this workspace”.</p><p>While ABAC can easily handle this, you could also consider it a bit too powerful if all you need to describe are relationships → and this is where ReBAC comes in.</p><p>While there are different ways one could go about implementing ReBAC, the simplest one is to build on top of RBAC by introducing a concept of “relationship” rules to your access control logic and then checking those alongside the roles. So RBAC with a dash of ABAC (focused on relationships).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-owasp-recommendations">4. OWASP recommendations<a href="#4-owasp-recommendations" class="hash-link" aria-label="Direct link to 4. OWASP recommendations" title="Direct link to 4. OWASP recommendations">​</a></h2><p>When looking online for “official”/standardized recommendations on how to do access control in web apps, you will most likely find resources produced by OWASP.</p><p>Definition of OWASP: The Open Web Application Security Project® (OWASP) is a nonprofit foundation that works to improve the security of software.</p><p>I found that they have quite a few resources on how to do access control in web apps, the most interesting being the following:</p><ul><li><a href="https://owasp.org/www-pdf-archive/ASDC12-Access_Control_Designs_and_Pitfalls.pdf" target="_blank" rel="noopener noreferrer">OWasp presentation about how to do ACL in Web App</a>.</li><li><a href="https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/Authorization_Cheat_Sheet.md" target="_blank" rel="noopener noreferrer">OWasp cheat sheet on how to do ACL in Web App.</a></li></ul><p>From their materials I extracted a couple of main points that made the most sense to me:</p><ul><li><strong>Centralize the access control logic so it is easy to review.</strong></li><li><strong>Deny access by default.</strong></li><li><strong>Prefer ABAC over RBAC.</strong></li></ul><div><p align="center"></p><figure><img alt="You should centralize your access control logic - Nyehhh" src="/wasp-docs/img/permissions-in-web-apps/comic-centralize-logic.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-implementing-access-control-in-practice">5. Implementing access control in practice<a href="#5-implementing-access-control-in-practice" class="hash-link" aria-label="Direct link to 5. Implementing access control in practice" title="Direct link to 5. Implementing access control in practice">​</a></h2><div><p align="center"></p><figure><img alt="Poll on how do people implement access control" src="/wasp-docs/img/permissions-in-web-apps/access-control-poll.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>Here’s a Reddit <a href="https://www.reddit.com/r/webdev/comments/vhaglx/what_do_you_use_for_access_control_permission/" target="_blank" rel="noopener noreferrer">poll I did on r/webdev</a>.<br>
<!-- -->An interesting finding is that even though the sample is pretty small, it is clear that devs prefer RBAC over OWASP-recommended ABAC.<br>
<!-- -->I believe this is due to 2 main reasons: RBAC is simpler + there are more libraries/frameworks out there supporting RBAC than ABAC (again, due to it being simpler).<br>
<!-- -->It does seem that ABAC is picking up recently though, so it would be interesting to repeat this poll in the future and see what changes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="organic-development">Organic development<a href="#organic-development" class="hash-link" aria-label="Direct link to Organic development" title="Direct link to Organic development">​</a></h3><div><p align="center"></p><figure><img alt="Organic growth of my code (meme)" src="/wasp-docs/img/permissions-in-web-apps/organic-code-meme.png"><figcaption class="image-caption" style="font-style:italic;opacity:0.6;font-size:0.9rem"></figcaption></figure><p></p></div><p>Often, we add permission checks to our web app one by one, as needed. For example, if we are using NodeJS with ExpressJS for our server and writing middleware that handles HTTP API requests, we will add a bit of logic into that middleware that does some checks to ensure a user can actually perform that action. Or maybe we will embed “checks” into our database queries so that we query only what the user is allowed to access. Often a combination.</p><p>What can be dangerous with such an organic approach is the complexity that arises as the codebase grows - if we don’t put enough effort into centralizing and structuring our access control logic, it can become very hard to reason about it and to do consistent updates to it, leading to mistakes and vulnerabilities.</p><p>Imagine having to modify the web app so that user can now only read their own articles and articles of their friends, while before they were allowed to read any article. If there is only one place where we can make this update, we will have a nice time, but if there are a bunch of places and we need to hunt those down first and then make sure they are all updated in the same way, we are in for a lot of trouble and lot of space to make mistakes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-an-existing-solution">Using an existing solution<a href="#using-an-existing-solution" class="hash-link" aria-label="Direct link to Using an existing solution" title="Direct link to Using an existing solution">​</a></h3><p>Instead of figuring out on our own how to structure the access control code, often it is a better choice to use an existing access control solution! Besides not having to figure and implement everything on your own, another big advantage is that these solutions are battle-tested, which is very important for the code dealing with the security of your web app.</p><p>We can roughly divide these solutions into frameworks and (external) providers, where frameworks are embedded into your web app and shipped together with it, while providers are externally hosted and usually paid services.</p><p>A couple of popular solutions:</p><ol><li><a href="https://casbin.org/" target="_blank" rel="noopener noreferrer">https://casbin.org/</a> (multiple approaches, multiple languages, provider)<ol><li>Open source authZ library that has support for many access control models (ACL, RBAC, ABAC, …) and many languages (Go, Java, Node.js, JS, Rust, …). While somewhat complex, it is also powerful and flexible. They also have their Casdoor platform, which is authN and authZ provider.</li></ol></li><li><a href="https://casl.js.org/v5/en/" target="_blank" rel="noopener noreferrer">https://casl.js.org/v5/en/</a> (ABAC, Javascript)<ol><li>Open source JS/TS library for ABAC. CASL gives you a nice way to define the ABAC rules in your web / NodeJS code, and then also check them and call them. It has a bunch of integrations with popular solutions like React, Angular, Prisma, Mongoose, … .</li></ol></li><li><a href="https://github.com/CanCanCommunity/cancancan" target="_blank" rel="noopener noreferrer">https://github.com/CanCanCommunity/cancancan</a> (Ruby on Rails ABAC)<ol><li>Same like casl.js, but for Ruby on Rails! Casl.js was actually inspired and modeled by cancancan.</li></ol></li><li><a href="https://github.com/varvet/pundit" target="_blank" rel="noopener noreferrer">https://github.com/varvet/pundit</a><ol><li>Popular open-source Ruby library focused around the notion of policies, giving you the freedom to implement your own approach based on that.</li></ol></li><li><a href="https://spring.io/projects/spring-security" target="_blank" rel="noopener noreferrer">https://spring.io/projects/spring-security</a> <ol><li>Open source authN and authZ framework for Spring (Java). </li></ol></li><li><a href="https://github.com/dfunckt/django-rules" target="_blank" rel="noopener noreferrer">https://github.com/dfunckt/django-rules</a><ol><li>A generic, approachable open source framework for building rule-based systems in Django (Python).</li></ol></li><li><a href="https://auth0.com/" target="_blank" rel="noopener noreferrer">Auth0</a> (provider)<ol><li>Auth0 has been around for some time and is probably the most popular authN provider out there. While authN is their main offering (they give you SDKs for authentication + they store user profiles and let you manage them through their SaaS), they also allow you to define authZ to some degree, via RBAC and policies.</li></ol></li><li><a href="https://www.osohq.com/" target="_blank" rel="noopener noreferrer">https://www.osohq.com/</a> (provider, DSL)<ol><li>OSO is an authZ provider, unique in a way that they have a specialized language for authorization (DSL, called Polar) in which you define your authorization rules. They come with support for common approaches (e.g. RBAC, ABAC, ReBAC) but also support custom ones. Then, you can use their open source library embedded in your application, or use their managed cloud offering.</li></ol></li><li><a href="https://warrant.dev/" target="_blank" rel="noopener noreferrer">https://warrant.dev/</a> (Provider)<ol><li>Relatively new authZ provider, they have a dashboard where you can manage your rules in a central location and then use them from multiple languages via their SDKs, even on the client to perform UI checks. Rules can also be managed programmatically via SDK.</li></ol></li><li><a href="https://authzed.com/" target="_blank" rel="noopener noreferrer">https://authzed.com/</a> (Provider)<ol><li>AuthZed brings a specialized SpiceDB permissions database which they use as a centralized place for storing and managing rules. Then, you can use their SDKs to query, store, and validate application permissions.</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary-tldr">Summary (TLDR)<a href="#summary-tldr" class="hash-link" aria-label="Direct link to Summary (TLDR)" title="Direct link to Summary (TLDR)">​</a></h2><ul><li><strong>Authentication</strong> (authN) answers “who are they”, <strong>authorization</strong> (authZ) answers “are they allowed to”, while <strong>access control</strong> is the overarching term for the whole process of performing authN and authZ.</li><li>Doing access control on the frontend is just for show (for improving UX) and you can’t rely on it. <strong>Any and all real access control needs to be done on the server</strong> (possibly a bit in the db, but normally not needed).</li><li>While it is ok to start with a simple access control approach at the beginning, you should be ready to switch to a more advanced approach once the complexity grows. The most popular approaches for doing access control are <strong>RBAC</strong> (role-based) and <strong>ABAC</strong> (attribute-based). RBAC is easier to get going with, but ABAC is more powerful.</li><li>You should make sure your access control has <strong>as little duplication as possible and is centralized</strong>, in order to reduce the chance of introducing bugs.</li><li>It is usually smart to <strong>use existing solutions</strong>, like access control frameworks or external providers.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-control-in-wasp">Access control in Wasp<a href="#access-control-in-wasp" class="hash-link" aria-label="Direct link to Access control in Wasp" title="Direct link to Access control in Wasp">​</a></h2><p>In <a href="https://wasp-lang.dev" target="_blank" rel="noopener noreferrer">Wasp</a>, we don’t yet have special support for access control, although we are planning to add it in the future. As it seems at the moment, we will probably go for ABAC, and we would love to provide a way to define access rules both at the Operations level and at Entity (data model) level. Due to Wasp’s mission to provide a highly integrated full-stack experience, we are excited about the possibilities this offers to provide an access control solution that is integrated tightly with the whole web app, through the whole stack!</p><p>You can check out our discussion about this in our <a href="https://github.com/wasp-lang/wasp/issues/584" target="_blank" rel="noopener noreferrer">“Support for Permissions” RFC</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="thanks-to-the-reviewers">Thanks to the reviewers<a href="#thanks-to-the-reviewers" class="hash-link" aria-label="Direct link to Thanks to the reviewers" title="Direct link to Thanks to the reviewers">​</a></h2><p><a href="https://twitter.com/karankajla" target="_blank" rel="noopener noreferrer">Karan Kajla</a> (pro advice on RBAC!), <a href="https://twitter.com/grahamneray" target="_blank" rel="noopener noreferrer">Graham Neray</a> (great general advice + pointed out ReBAC), <a href="https://twitter.com/lawjolla" target="_blank" rel="noopener noreferrer">Dennis Walsh</a> (awesome suggestions how to have article read better), <a href="https://github.com/shayneczyzewski" target="_blank" rel="noopener noreferrer">Shayne Czyzewski</a>, <a href="https://twitter.com/matijasosic" target="_blank" rel="noopener noreferrer">Matija Sosic</a>, thank you for taking the time to review this article and make it better! Your suggestions, corrections, and ideas were invaluable.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/wasp-docs/blog/tags/webdev">webdev</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/wasp-docs/blog/tags/wasp">wasp</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/wasp-lang/wasp/edit/release/web/blog/2022-11-29-permissions-in-web-apps.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><div class="mt-8 grid grid-cols-1 gap-6 xl:grid-cols-2"><div class="flex flex-col items-start space-y-3 rounded-lg border border-yellow-500/25 bg-yellow-500/5 p-8"><span class="h-20 rounded-full border border-yellow-500/25 bg-white px-4 py-5 text-neutral-800"><svg height="100%" fill="currentColor" viewBox="0 5 30.67 23.25"><title>Discord</title><path d="M26.0015 6.9529C24.0021 6.03845 21.8787 5.37198 19.6623 5C19.3833 5.48048 19.0733 6.13144 18.8563 6.64292C16.4989 6.30193 14.1585 6.30193 11.8336 6.64292C11.6166 6.13144 11.2911 5.48048 11.0276 5C8.79575 5.37198 6.67235 6.03845 4.6869 6.9529C0.672601 12.8736 -0.41235 18.6548 0.130124 24.3585C2.79599 26.2959 5.36889 27.4739 7.89682 28.2489C8.51679 27.4119 9.07477 26.5129 9.55525 25.5675C8.64079 25.2265 7.77283 24.808 6.93587 24.312C7.15286 24.1571 7.36986 23.9866 7.57135 23.8161C12.6241 26.1255 18.0969 26.1255 23.0876 23.8161C23.3046 23.9866 23.5061 24.1571 23.7231 24.312C22.8861 24.808 22.0182 25.2265 21.1037 25.5675C21.5842 26.5129 22.1422 27.4119 22.7621 28.2489C25.2885 27.4739 27.8769 26.2959 30.5288 24.3585C31.1952 17.7559 29.4733 12.0212 26.0015 6.9529ZM10.2527 20.8402C8.73376 20.8402 7.49382 19.4608 7.49382 17.7714C7.49382 16.082 8.70276 14.7025 10.2527 14.7025C11.7871 14.7025 13.0425 16.082 13.0115 17.7714C13.0115 19.4608 11.7871 20.8402 10.2527 20.8402ZM20.4373 20.8402C18.9183 20.8402 17.6768 19.4608 17.6768 17.7714C17.6768 16.082 18.8873 14.7025 20.4373 14.7025C21.9717 14.7025 23.2271 16.082 23.1961 17.7714C23.1961 19.4608 21.9872 20.8402 20.4373 20.8402Z"></path></svg></span><h3 class="text-xl font-semibold">Join our developer community</h3><p>Wasp is 100% open source. Join our Discord to learn from others and get help whenever you need it!</p><a href="https://discord.gg/rzdnErX" target="_blank" rel="noopener noreferrer"><span class="cursor-pointer"><div class="group inline-flex items-center gap-1"><span>Join our Discord 👾</span><div class="transition-all group-hover:ml-0.5"><span class="text-yellow-400">→</span></div></div></span></a></div><div class="flex flex-col items-start space-y-3 rounded-lg border border-yellow-500/25 bg-yellow-500/20 p-8"><span class="h-20 rounded-full border border-yellow-500/25 bg-white px-5 py-5 text-4xl text-neutral-800">📫</span><h3 class="text-xl font-semibold">Subscribe to our newsletter</h3><p>Once per month - receive useful blog posts and Wasp news.</p><form class="sm:flex self-stretch"><input type="email" aria-label="Email address" name="email" id="email-address" required="" autocomplete="email" placeholder="you@awesomedev.com" class="w-full appearance-none rounded-md border border-yellow-500 px-4 py-2 text-sm placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 undefined"><div class="mt-3 rounded-md sm:ml-3 sm:mt-0"><button type="submit" class="w-full rounded-md border border-transparent bg-yellow-500 px-4 py-2 text-sm text-white transition duration-200 ease-out hover:bg-yellow-400">Subscribe</button></div></form></div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/wasp-docs/blog/2022/11/30/optimistic-update-feature-announcement"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Feature Release Announcement - Wasp Optimistic Updates</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wasp-docs/blog/2022/11/29/typescript-feature-announcement"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Feature Announcement - TypeScript Support</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-permissions-yay-wait-what-are-they-though" class="table-of-contents__link toc-highlight">1. Permissions, yay! Wait, what are they though?</a><ul><li><a href="#aha-you-mean-access-control-sorry-authorization-hmm-authentication" class="table-of-contents__link toc-highlight">Aha, you mean access control! Sorry, authorization! Hmm, authentication?</a></li><li><a href="#1-authentication-or-as-cool-kids-would-say-authn" class="table-of-contents__link toc-highlight">1) Authentication (or as cool kids would say: authN)</a></li><li><a href="#2-authorization-or-as-cool-kids-would-say-authz" class="table-of-contents__link toc-highlight">2) Authorization (or as cool kids would say: authZ)</a></li><li><a href="#3-access-control" class="table-of-contents__link toc-highlight">3) Access Control</a></li><li><a href="#4-permissions" class="table-of-contents__link toc-highlight">4) Permission(s)</a></li><li><a href="#all-together" class="table-of-contents__link toc-highlight">All together</a></li></ul></li><li><a href="#2-where-do-we-check-permissions-in-a-web-app-frontend-vs-backend-vs-database" class="table-of-contents__link toc-highlight">2. Where do we check permissions in a web app: frontend vs backend vs database</a><ul><li><a href="#frontend-browser" class="table-of-contents__link toc-highlight">Frontend (browser)</a></li><li><a href="#backend-server" class="table-of-contents__link toc-highlight">Backend (server)</a></li><li><a href="#database" class="table-of-contents__link toc-highlight">Database</a></li></ul></li><li><a href="#3-common-approaches-rbac-abac-" class="table-of-contents__link toc-highlight">3. Common approaches (RBAC, ABAC, …)</a><ul><li><a href="#rbac---role-based-access-control" class="table-of-contents__link toc-highlight">RBAC - Role-based access control</a></li><li><a href="#abac---attribute-based-access-control" class="table-of-contents__link toc-highlight">ABAC - Attribute-based access control</a></li><li><a href="#rebac---relationship-based-access-control" class="table-of-contents__link toc-highlight">ReBAC - Relationship-based access control</a></li></ul></li><li><a href="#4-owasp-recommendations" class="table-of-contents__link toc-highlight">4. OWASP recommendations</a></li><li><a href="#5-implementing-access-control-in-practice" class="table-of-contents__link toc-highlight">5. Implementing access control in practice</a><ul><li><a href="#organic-development" class="table-of-contents__link toc-highlight">Organic development</a></li><li><a href="#using-an-existing-solution" class="table-of-contents__link toc-highlight">Using an existing solution</a></li></ul></li><li><a href="#summary-tldr" class="table-of-contents__link toc-highlight">Summary (TLDR)</a></li><li><a href="#access-control-in-wasp" class="table-of-contents__link toc-highlight">Access control in Wasp</a></li><li><a href="#thanks-to-the-reviewers" class="table-of-contents__link toc-highlight">Thanks to the reviewers</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wasp-docs/docs">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/wasp-docs/docs/tutorial/create">Todo app tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/rzdnErX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wasp-lang/wasp" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/wasp-docs/docs/contact">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Wasp.</div></div></div></footer></div>
<script src="/wasp-docs/assets/js/runtime~main.6b38a0ff.js"></script>
<script src="/wasp-docs/assets/js/main.fc8b71fe.js"></script>
</body>
</html>